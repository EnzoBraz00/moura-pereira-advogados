import { PrismaClient } from "@prisma/client";
import bcrypt from "bcryptjs";

const prisma = new PrismaClient();

async function main() {
  const email = process.env.ADMIN_EMAIL;
  const rawPass = process.env.ADMIN_PASSWORD;
  const password = await bcrypt.hash(rawPass, 10);

  const exists = await prisma.user.findUnique({ where: { email } });
  if (!exists) {
    await prisma.user.create({ data: { email, password } });
    console.log("‚úÖ Admin criado:", email);
  } else {
    console.log("‚ÑπÔ∏è Admin j√° existe.");
  }

  // ==== POSTS ====
  const postsData = [
    {
      image: "/src/assets/post-image.jpg",
      tags: ["Trabalhista", "Humano", "Opini√£o"],
      author: "Jo√£o Carlos Moura",
      title:
        "Entre Leis, Direitos e Pessoas: Olhares Humanos sobre a Advocacia Trabalhista",
      smallTitle: "Olhares Humanos sobre a Advocacia Trabalhista",
      slug: "olhares-humanos-sobre-a-advocacia-trabalhista",
      excerpt:
        "Uma an√°lise sens√≠vel e cr√≠tica sobre os caminhos da advocacia trabalhista, seus dilemas cotidianos e o papel do advogado diante da dignidade do trabalhador.",
      date: "2025-02-20",
      content: [
        "A advocacia trabalhista, muitas vezes, √© enxergada apenas como o campo jur√≠dico que trata de leis...",
        "Por tr√°s de cada processo trabalhista existe uma pessoa...",
        "Um dos maiores dilemas da advocacia trabalhista est√° em conciliar a frieza das normas jur√≠dicas...",
        "Mais do que um representante em audi√™ncias, o advogado trabalhista √© tamb√©m um mediador de conflitos...",
        "A advocacia trabalhista n√£o deve ser vista apenas como um campo de disputa...",
        "üìå Reflex√£o final: A advocacia trabalhista √© feita de leis, mas tamb√©m de pessoas...",
      ],
    },
    {
      image: "/src/assets/post-image.jpg",
      tags: ["Empresarial", "Mercado", "Estrat√©gia"],
      author: "Jo√£o Carlos Moura",
      title:
        "Navegando no Mar Empresarial: Estrat√©gias Jur√≠dicas para o Sucesso no Mundo dos Neg√≥cios",
      smallTitle: "Estrat√©gias Jur√≠dicas para o Sucesso no Mundo dos Neg√≥cios",
      slug: "navegando-no-mar-empresarial",
      excerpt:
        "Explorando as complexidades do direito empresarial e como estrat√©gias jur√≠dicas eficazes podem impulsionar o crescimento e a sustentabilidade das empresas.",
      date: "2025-02-21",
      content: [
        "O mundo dos neg√≥cios √© din√¢mico, competitivo e repleto de desafios...",
        "Muito al√©m da resolu√ß√£o de conflitos, a advocacia empresarial contribui com planejamento...",
        "Outro ponto essencial est√° no compliance, cada vez mais presente no cotidiano corporativo...",
        "Para alcan√ßar sustentabilidade no mercado, a estrat√©gia jur√≠dica deve andar lado a lado...",
        "üìå Reflex√£o final: Navegar no mar empresarial exige mais do que boas ideias...",
      ],
    },
    {
      image: "/src/assets/post-image.jpg",
      tags: ["Civil", "Fam√≠lia", "Direitos"],
      author: "Jo√£o Carlos Moura",
      title:
        "La√ßos e Leis: A Advocacia Civil na Prote√ß√£o dos Direitos Familiares",
      smallTitle: "A Advocacia Civil na Prote√ß√£o dos Direitos Familiares",
      slug: "lacos-e-leis",
      excerpt:
        "Uma reflex√£o sobre o papel do advogado civil na defesa dos direitos familiares, abordando quest√µes como div√≥rcio, guarda de filhos e patrim√¥nio.",
      date: "2025-02-22",
      content: [
        "Os v√≠nculos familiares s√£o a base da sociedade...",
        "Quest√µes como div√≥rcio, guarda de filhos e partilha de bens envolvem tamb√©m aspectos emocionais...",
        "Na guarda de filhos, por exemplo, o princ√≠pio do melhor interesse da crian√ßa...",
        "A advocacia civil tamb√©m desempenha papel preventivo...",
        "üìå Reflex√£o final: Proteger os direitos familiares √©, em √∫ltima an√°lise, proteger a dignidade humana...",
      ],
    },
    {
      image: "/src/assets/post-image.jpg",
      tags: ["Consumidor", "Prote√ß√£o", "Direitos"],
      author: "Jo√£o Carlos Moura",
      title:
        "Empoderamento do Consumidor: Como a Lei Protege Seus Direitos no Mercado",
      smallTitle: "Como a Lei Protege Seus Direitos no Mercado",
      slug: "empoderamento-do-consumidor",
      excerpt:
        "Um guia pr√°tico sobre os direitos do consumidor e como a advocacia especializada pode ajudar a resolver conflitos de consumo de forma eficaz.",
      date: "2025-02-23",
      content: [
        "O C√≥digo de Defesa do Consumidor √© uma das legisla√ß√µes mais importantes do Brasil...",
        "Muitas vezes, o consumidor n√£o conhece seus direitos b√°sicos...",
        "A advocacia especializada em direito do consumidor atua como um verdadeiro parceiro...",
        "Quest√µes como produtos com defeito, servi√ßos mal prestados e cobran√ßas indevidas...",
        "üìå Reflex√£o final: Conhecer seus direitos √© o primeiro passo para ser um consumidor consciente...",
      ],
    },
    {
      image: "/src/assets/post-image.jpg",
      tags: ["Sucess√µes", "Patrim√¥nio", "Planejamento"],
      author: "Jo√£o Carlos Moura",
      title:
        "Planejamento Sucess√≥rio: Protegendo o Futuro da Sua Fam√≠lia",
      smallTitle: "Protegendo o Futuro da Sua Fam√≠lia",
      slug: "planejamento-sucessorio",
      excerpt:
        "A import√¢ncia do planejamento sucess√≥rio e como a advocacia especializada pode ajudar a organizar a transmiss√£o patrimonial de forma eficiente.",
      date: "2025-02-24",
      content: [
        "O planejamento sucess√≥rio √© fundamental para proteger o patrim√¥nio familiar...",
        "Muitas fam√≠lias enfrentam conflitos desnecess√°rios por falta de planejamento...",
        "A elabora√ß√£o de testamentos, doa√ß√µes e acordos pr√©-nupciais...",
        "A advocacia especializada em sucess√µes oferece solu√ß√µes personalizadas...",
        "üìå Reflex√£o final: Planejar o futuro √© um ato de amor e responsabilidade com a fam√≠lia...",
      ],
    },
    {
      image: "/src/assets/post-image.jpg",
      tags: ["Trabalhista", "Reforma", "Mercado"],
      author: "Jo√£o Carlos Moura",
      title:
        "Reforma Trabalhista: Impactos e Oportunidades no Mercado de Trabalho",
      smallTitle: "Impactos e Oportunidades no Mercado de Trabalho",
      slug: "reforma-trabalhista-impactos",
      excerpt:
        "An√°lise dos principais impactos da reforma trabalhista e como empresas e trabalhadores podem se adaptar √†s novas regras do mercado.",
      date: "2025-02-25",
      content: [
        "A reforma trabalhista trouxe mudan√ßas significativas no mercado de trabalho...",
        "Empresas precisam se adaptar √†s novas regras para evitar passivos trabalhistas...",
        "Trabalhadores devem conhecer seus direitos para n√£o serem prejudicados...",
        "A advocacia trabalhista se tornou ainda mais essencial neste cen√°rio...",
        "üìå Reflex√£o final: Conhecer a legisla√ß√£o √© fundamental para navegar no novo mercado de trabalho...",
      ],
    },
    {
      image: "/src/assets/post-image.jpg",
      tags: ["Empresarial", "Startup", "Inova√ß√£o"],
      author: "Jo√£o Carlos Moura",
      title:
        "Startups e Direito: Desafios Jur√≠dicos no Mundo da Inova√ß√£o",
      smallTitle: "Desafios Jur√≠dicos no Mundo da Inova√ß√£o",
      slug: "startups-e-direito",
      excerpt:
        "Como startups podem navegar pelos desafios jur√≠dicos desde a constitui√ß√£o at√© o crescimento, evitando armadilhas legais comuns.",
      date: "2025-02-26",
      content: [
        "O ecossistema de startups no Brasil cresce exponencialmente...",
        "Muitas startups enfrentam problemas jur√≠dicos que poderiam ser evitados...",
        "A escolha da estrutura societ√°ria adequada √© crucial desde o in√≠cio...",
        "Quest√µes de propriedade intelectual e contratos com investidores...",
        "üìå Reflex√£o final: Inova√ß√£o e compliance jur√≠dico devem andar juntos para o sucesso da startup...",
      ],
    },
  ];

  for (const post of postsData) {
    const existsPost = await prisma.post.findUnique({
      where: { slug: post.slug },
    });

    if (!existsPost) {
      await prisma.post.create({ data: post });
      console.log(`‚úÖ Post criado: ${post.title}`);
    } else {
      console.log(`‚ÑπÔ∏è Post j√° existe: ${post.title}`);
    }
  }

  // ==== FORMUL√ÅRIOS DE CONTATO ====
  const contatosData = [
    {
      nome: "Jo√£o Silva",
      email: "joao.silva@email.com",
      telefone: "(11) 99999-1111",
      tipoNegocio: "Direito Civil",
      mensagem: "Preciso de orienta√ß√£o sobre um processo de div√≥rcio. Gostaria de agendar uma consulta para discutir os detalhes da minha situa√ß√£o.",
    },
    {
      nome: "Maria Santos",
      email: "maria.santos@empresa.com",
      telefone: "(11) 88888-2222",
      tipoNegocio: "Direito Empresarial",
      mensagem: "Nossa empresa est√° enfrentando quest√µes trabalhistas e precisamos de assessoria jur√≠dica especializada para resolver os conflitos.",
    },
    {
      nome: "Carlos Oliveira",
      email: "carlos.oliveira@email.com",
      telefone: "(11) 77777-3333",
      tipoNegocio: "Direito do Consumidor",
      mensagem: "Comprei um produto com defeito e a empresa n√£o est√° resolvendo. Gostaria de saber quais s√£o meus direitos e como proceder.",
    },
    {
      nome: "Ana Costa",
      email: "ana.costa@email.com",
      telefone: "(11) 66666-4444",
      tipoNegocio: "Direito de Sucess√µes",
      mensagem: "Preciso de orienta√ß√£o sobre planejamento sucess√≥rio para proteger o patrim√¥nio da minha fam√≠lia. Podemos agendar uma reuni√£o?",
    },
    {
      nome: "Roberto Lima",
      email: "roberto.lima@startup.com",
      telefone: "(11) 55555-5555",
      tipoNegocio: "Direito Empresarial",
      mensagem: "Estou abrindo uma startup e preciso de orienta√ß√£o jur√≠dica desde a constitui√ß√£o da empresa at√© contratos com investidores.",
    },
  ];

  for (const contato of contatosData) {
    const existsContato = await prisma.contato.findFirst({
      where: { 
        email: contato.email,
        telefone: contato.telefone 
      },
    });

    if (!existsContato) {
      await prisma.contato.create({ data: contato });
      console.log(`‚úÖ Contato criado: ${contato.nome} - ${contato.tipoNegocio}`);
    } else {
      console.log(`‚ÑπÔ∏è Contato j√° existe: ${contato.nome}`);
    }
  }
}

main()
  .catch((e) => {
    console.error(e);
    process.exit(1);
  })
  .finally(() => prisma.$disconnect());
